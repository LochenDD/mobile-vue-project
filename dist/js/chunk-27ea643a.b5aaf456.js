(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27ea643a"],{"04f0":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("van-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.userChannels,(function(t){return n("van-tab",{key:t.id,attrs:{title:t.name}},[n("article-list",{attrs:{id:t.id}})],1)})),1),n("div",{staticClass:"bar-btn"},[n("van-icon",{attrs:{name:"wap-nav"},on:{click:t.showChannelEditClick}})],1),n("van-action-sheet",{attrs:{title:"标题"},model:{value:t.showChannelEdit,callback:function(e){t.showChannelEdit=e},expression:"showChannelEdit"}},[n("channel-edit",{attrs:{active:t.active,showChannelEdit:t.showChannelEdit},on:{"update:active":function(e){t.active=e},"update:showChannelEdit":function(e){t.showChannelEdit=e},"update:show-channel-edit":function(e){t.showChannelEdit=e}}})],1)],1)},i=[],a=n("5530"),o=n("2b0e"),c=new o["a"],s=n("2f62"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"articleList",staticClass:"articleList",on:{scroll:t.record}},[n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.articleList,(function(e){return n("van-cell",{key:e.art_id.toString(),attrs:{title:e.title},on:{click:function(n){t.goToArticle(e.art_id.toString())}},scopedSlots:t._u([{key:"label",fn:function(){return[n("van-grid",{attrs:{"column-num":e.cover.images.length}},t._l(e.cover.images,(function(t,e){return n("van-grid-item",{key:e},[n("van-image",{attrs:{src:t,"lazy-load":""}})],1)})),1),n("div",{staticClass:"meta"},[n("span",[t._v(t._s(e.aut_name))]),n("span",[t._v(t._s(e.comm_count)+" 评论")]),n("span",[t._v(t._s(t._f("relativeTime")(e.pubdate)))])])]},proxy:!0}],null,!0)})})),1)],1)],1)},f=[],l=n("2909"),d=n("1da1"),h=(n("96cf"),n("a9e3"),n("6dfa")),p={name:"ArticleList",props:{id:{type:Number,required:!0}},data:function(){return{refreshing:!1,loading:!1,finished:!1,articleList:[],pre_timestamp:void 0,scrollTop:0}},activated:function(){this.$refs.articleList.scrollTop=this.scrollTop},methods:{record:function(t){this.scrollTop=t.target.scrollTop},goToArticle:function(t){this.$router.push({name:"article",params:{id:t}})},onRefresh:function(){this.finished=!1,this.articleList=[],this.pre_timestamp=void 0,this.onLoad()},onLoad:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pre_timestamp||(t.pre_timestamp=+new Date),e.next=3,Object(h["b"])(t.id,t.pre_timestamp);case 3:r=e.sent,i=r.data.results,a=r.pre_timestamp,t.refreshing&&(t.refreshing=!1),(n=t.articleList).push.apply(n,Object(l["a"])(i)),t.pre_timestamp=a,t.loading=!1,i.length||(t.finished=!0);case 11:case"end":return e.stop()}}),e)})))()}}},v=p,b=(n("d36c"),n("2877")),m=Object(b["a"])(v,u,f,!1,null,"14364e16",null),g=m.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"channel-edit"},[n("div",{staticClass:"channel"},[n("van-cell",{attrs:{title:"我的频道",border:!1}},[n("van-button",{attrs:{plain:"",size:"mini",type:"danger"},on:{click:function(e){t.showRemove=!t.showRemove}}},[t._v(t._s(t.showRemove?"取消":"编辑"))])],1),n("van-grid",t._l(t.userChannels,(function(e,r){return n("van-grid-item",{key:e.id},[n("span",{class:{active:r===t.active},on:{click:function(e){return t.clickUserChannel(r)}}},[t._v(t._s(e.name))]),t.showRemove&&0!==r?n("van-icon",{staticClass:"btn",attrs:{name:"cross"}}):t._e()],1)})),1)],1),n("div",{staticClass:"channel"},[n("van-cell",{attrs:{title:"可选频道",border:!1}}),n("van-grid",t._l(t.otherChannels,(function(e){return n("van-grid-item",{key:e.id},[n("span",{on:{click:function(n){return t.addChannel(e)}}},[t._v(t._s(e.name))])])})),1)],1)])},w=[],O=(n("d81d"),n("fb6a"),{created:function(){var t=this;c.$on("initChannelsEditRemove",(function(){t.showRemove=!1}))},name:"ChannelEdit",props:{active:{type:Number,required:!0}},methods:Object(a["a"])(Object(a["a"])({},Object(s["d"])("channels",["removeUserChannel","addUserChannel"])),{},{addChannel:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.addUserChannel(t),n.next=3,Object(h["d"])(e.updateChannelsData);case 3:case"end":return n.stop()}}),n)})))()},clickUserChannel:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.showRemove){n.next=7;break}return e.removeUserChannel(t),t<e.active&&e.$emit("update:active",e.active-1),n.next=5,Object(h["d"])(e.updateChannelsData);case 5:n.next=9;break;case 7:e.$emit("update:active",t),e.$emit("update:showChannelEdit",!1);case 9:case"end":return n.stop()}}),n)})))()}}),data:function(){return{showRemove:!1}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(s["c"])("channels",["otherChannels"])),Object(s["e"])("channels",["userChannels"])),{},{updateChannelsData:function(){return this.userChannels.slice(1).map((function(t,e){if(0!==t.id)return{id:t.id,seq:e}}))}})}),C=O,j=(n("4534"),Object(b["a"])(C,y,w,!1,null,"2505c4fe",null)),E=j.exports,_={name:"Home",components:{ChannelEdit:E,ArticleList:g},data:function(){return{channels:[],showChannelEdit:!1,active:0}},created:function(){this.getAllChannels(),this.getUserChannels()},methods:Object(a["a"])(Object(a["a"])({},Object(s["b"])("channels",["getUserChannels","getAllChannels"])),{},{showChannelEditClick:function(){this.showChannelEdit=!0,c.$emit("initChannelsEditRemove")}}),computed:Object(a["a"])({},Object(s["e"])("channels",["userChannels","allChannels"]))},S=_,k=(n("063e"),Object(b["a"])(S,r,i,!1,null,"99f8f770",null));e["default"]=k.exports},"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?c(t):i(r(t))}},"063e":function(t,e,n){"use strict";n("513d")},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),a=n("17c2"),o=n("9112");for(var c in i){var s=r[c],u=s&&s.prototype;if(u&&u.forEach!==a)try{o(u,"forEach",a)}catch(f){u.forEach=a}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),a=i("forEach");t.exports=a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},2388:function(t,e,n){},2909:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t){if(Array.isArray(t))return r(t)}n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n("fb6a"),n("b0c0");function o(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return i(t)||a(t)||o(t)||c()}},4534:function(t,e,n){"use strict";n("fd9e")},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),a=n("9bdd"),o=n("e95a"),c=n("50c4"),s=n("8418"),u=n("35a1");t.exports=function(t){var e,n,f,l,d,h,p=i(t),v="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,g=void 0!==m,y=u(p),w=0;if(g&&(m=r(m,b>2?arguments[2]:void 0,2)),void 0==y||v==Array&&o(y))for(e=c(p.length),n=new v(e);e>w;w++)h=g?m(p[w],w):p[w],s(n,w,h);else for(l=y.call(p),d=l.next,n=new v;!(f=d.call(l)).done;w++)h=g?a(l,m,[f.value,w],!0):f.value,s(n,w,h);return n.length=w,n}},"513d":function(t,e,n){},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("5899"),a="["+i+"]",o=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(t,e,n){var r=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var a,o;return i&&"function"==typeof(a=e.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(t,o),t}},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),a=n("e538"),o=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||o(e,t,{value:a.f(t)})}},"9bdd":function(t,e,n){var r=n("825a"),i=n("2a62");t.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(o){throw i(t),o}}},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("d066"),o=n("c430"),c=n("83ab"),s=n("4930"),u=n("fdbf"),f=n("d039"),l=n("5135"),d=n("e8b5"),h=n("861d"),p=n("825a"),v=n("7b0b"),b=n("fc6a"),m=n("c04e"),g=n("5c6c"),y=n("7c73"),w=n("df75"),O=n("241c"),C=n("057f"),j=n("7418"),E=n("06cf"),_=n("9bf2"),S=n("d1e7"),k=n("9112"),A=n("6eeb"),x=n("5692"),N=n("f772"),I=n("d012"),P=n("90e3"),R=n("b622"),T=n("e538"),L=n("746f"),$=n("d44e"),D=n("69f3"),U=n("b727").forEach,F=N("hidden"),M="Symbol",J="prototype",V=R("toPrimitive"),q=D.set,G=D.getterFor(M),z=Object[J],X=i.Symbol,Y=a("JSON","stringify"),H=E.f,Q=_.f,W=C.f,B=S.f,K=x("symbols"),Z=x("op-symbols"),tt=x("string-to-symbol-registry"),et=x("symbol-to-string-registry"),nt=x("wks"),rt=i.QObject,it=!rt||!rt[J]||!rt[J].findChild,at=c&&f((function(){return 7!=y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=H(z,e);r&&delete z[e],Q(t,e,n),r&&t!==z&&Q(z,e,r)}:Q,ot=function(t,e){var n=K[t]=y(X[J]);return q(n,{type:M,tag:t,description:e}),c||(n.description=e),n},ct=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof X},st=function(t,e,n){t===z&&st(Z,e,n),p(t);var r=m(e,!0);return p(n),l(K,r)?(n.enumerable?(l(t,F)&&t[F][r]&&(t[F][r]=!1),n=y(n,{enumerable:g(0,!1)})):(l(t,F)||Q(t,F,g(1,{})),t[F][r]=!0),at(t,r,n)):Q(t,r,n)},ut=function(t,e){p(t);var n=b(e),r=w(n).concat(pt(n));return U(r,(function(e){c&&!lt.call(n,e)||st(t,e,n[e])})),t},ft=function(t,e){return void 0===e?y(t):ut(y(t),e)},lt=function(t){var e=m(t,!0),n=B.call(this,e);return!(this===z&&l(K,e)&&!l(Z,e))&&(!(n||!l(this,e)||!l(K,e)||l(this,F)&&this[F][e])||n)},dt=function(t,e){var n=b(t),r=m(e,!0);if(n!==z||!l(K,r)||l(Z,r)){var i=H(n,r);return!i||!l(K,r)||l(n,F)&&n[F][r]||(i.enumerable=!0),i}},ht=function(t){var e=W(b(t)),n=[];return U(e,(function(t){l(K,t)||l(I,t)||n.push(t)})),n},pt=function(t){var e=t===z,n=W(e?Z:b(t)),r=[];return U(n,(function(t){!l(K,t)||e&&!l(z,t)||r.push(K[t])})),r};if(s||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=P(t),n=function(t){this===z&&n.call(Z,t),l(this,F)&&l(this[F],e)&&(this[F][e]=!1),at(this,e,g(1,t))};return c&&it&&at(z,e,{configurable:!0,set:n}),ot(e,t)},A(X[J],"toString",(function(){return G(this).tag})),A(X,"withoutSetter",(function(t){return ot(P(t),t)})),S.f=lt,_.f=st,E.f=dt,O.f=C.f=ht,j.f=pt,T.f=function(t){return ot(R(t),t)},c&&(Q(X[J],"description",{configurable:!0,get:function(){return G(this).description}}),o||A(z,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:X}),U(w(nt),(function(t){L(t)})),r({target:M,stat:!0,forced:!s},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var n=X(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!ct(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!c},{create:ft,defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ht,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:f((function(){j.f(1)}))},{getOwnPropertySymbols:function(t){return j.f(v(t))}}),Y){var vt=!s||f((function(){var t=X();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}));r({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,n){var r,i=[t],a=1;while(arguments.length>a)i.push(arguments[a++]);if(r=e,(h(e)||void 0!==t)&&!ct(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ct(e))return e}),i[1]=e,Y.apply(null,i)}})}X[J][V]||k(X[J],V,X[J].valueOf),$(X,M),I[F]=!0},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),a=n("1c7e"),o=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:i})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},a9e3:function(t,e,n){"use strict";var r=n("83ab"),i=n("da84"),a=n("94ca"),o=n("6eeb"),c=n("5135"),s=n("c6b6"),u=n("7156"),f=n("c04e"),l=n("d039"),d=n("7c73"),h=n("241c").f,p=n("06cf").f,v=n("9bf2").f,b=n("58a8").trim,m="Number",g=i[m],y=g.prototype,w=s(d(y))==m,O=function(t){var e,n,r,i,a,o,c,s,u=f(t,!1);if("string"==typeof u&&u.length>2)if(u=b(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=u.slice(2),o=a.length,c=0;c<o;c++)if(s=a.charCodeAt(c),s<48||s>i)return NaN;return parseInt(a,r)}return+u};if(a(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var C,j=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof j&&(w?l((function(){y.valueOf.call(n)})):s(n)!=m)?u(new g(O(e)),n,j):O(e)},E=r?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),_=0;E.length>_;_++)c(g,C=E[_])&&!c(j,C)&&v(j,C,p(g,C));j.prototype=y,y.constructor=j,o(i,m,j)}},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,a=Function.prototype,o=a.toString,c=/^\s*function ([^ (]*)/,s="name";r&&!(s in a)&&i(a,s,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(t){return""}}})},b64b:function(t,e,n){var r=n("23e7"),i=n("7b0b"),a=n("df75"),o=n("d039"),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:c},{keys:function(t){return a(i(t))}})},d28b:function(t,e,n){var r=n("746f");r("iterator")},d36c:function(t,e,n){"use strict";n("2388")},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),o=a("map");r({target:"Array",proto:!0,forced:!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(t,e,n){var r=n("23e7"),i=n("83ab"),a=n("56ef"),o=n("fc6a"),c=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),i=c.f,u=a(r),f={},l=0;while(u.length>l)n=i(r,e=u[l++]),void 0!==n&&s(f,e,n);return f}})},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),a=n("da84"),o=n("5135"),c=n("861d"),s=n("9bf2").f,u=n("e893"),f=a.Symbol;if(i&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};u(d,f);var h=d.prototype=f.prototype;h.constructor=d;var p=h.toString,v="Symbol(test)"==String(f("test")),b=/^Symbol\((.*)\)[^)]+$/;s(h,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=p.call(t);if(o(l,t))return"";var n=v?e.slice(7,-1):e.replace(b,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e439:function(t,e,n){var r=n("23e7"),i=n("d039"),a=n("fc6a"),o=n("06cf").f,c=n("83ab"),s=i((function(){o(1)})),u=!c||s;r({target:"Object",stat:!0,forced:u,sham:!c},{getOwnPropertyDescriptor:function(t,e){return o(a(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},fb6a:function(t,e,n){"use strict";var r=n("23e7"),i=n("861d"),a=n("e8b5"),o=n("23cb"),c=n("50c4"),s=n("fc6a"),u=n("8418"),f=n("b622"),l=n("1dde"),d=l("slice"),h=f("species"),p=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var n,r,f,l=s(this),d=c(l.length),b=o(t,d),m=o(void 0===e?d:e,d);if(a(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?i(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(l,b,m);for(r=new(void 0===n?Array:n)(v(m-b,0)),f=0;b<m;b++,f++)b in l&&u(r,f,l[b]);return r.length=f,r}})},fd9e:function(t,e,n){}}]);
//# sourceMappingURL=chunk-27ea643a.b5aaf456.js.map